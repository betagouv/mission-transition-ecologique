"use strict";var Re=Object.create;var pe=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Ie=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty;var Ee=(p,y)=>()=>(y||p((y={exports:{}}).exports,y),y.exports);var Ne=(p,y,b,v)=>{if(y&&typeof y=="object"||typeof y=="function")for(let k of Se(y))!xe.call(p,k)&&k!==b&&pe(p,k,{get:()=>y[k],enumerable:!(v=Me(y,k))||v.enumerable});return p};var Le=(p,y,b)=>(b=p!=null?Re(Ie(p)):{},Ne(y||!p||!p.__esModule?pe(b,"default",{value:p,enumerable:!0}):b,p));var me=Ee((J,U)=>{(function(p,y){typeof J=="object"&&typeof U<"u"?U.exports=y():typeof define=="function"&&define.amd?define(y):(p=typeof globalThis<"u"?globalThis:p||self).iframeResize=y()})(J,function(){"use strict";let p="[iframe-resizer]",y=i=>`${p}[${function(e){return window.top===window.self?`Parent page: ${e}`:window?.parentIFrame?.getId?`${window.parentIFrame.getId()}: ${e}`:`Nested parent page: ${e}`}(i)}]`,b=(i,...e)=>((r,s,...n)=>window?.console[r](y(s),...n))("warn",i,...e),v=(i,e)=>console?.warn((r=>s=>window.chrome?r(s.replaceAll("<br>",`
`).replaceAll("<rb>","\x1B[31;1m").replaceAll("</>","\x1B[m").replaceAll("<b>","\x1B[1m").replaceAll("<i>","\x1B[3m").replaceAll("<u>","\x1B[4m")):r(s.replaceAll("<br>",`
`).replaceAll(/<[/a-z]+>/gi,"")))((r=>(...s)=>[`${p}[${r}]`,...s].join(" "))(i))(e)),k="5.3.2",$="[iFrameSizer]",x=$.length,N=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),L=(i,e,r,s)=>i.addEventListener(e,r,s||!1),ye=(i,e,r)=>i.removeEventListener(e,r,!1),V=i=>{if(!i)return"";let e=-559038744,r=1103547984;for(let s,n=0;n<i.length;n++)s=i.codePointAt(n),e=Math.imul(e^s,2246822519),r=Math.imul(r^s,3266489917);return e^=Math.imul(e^r>>>15,1935289751),r^=Math.imul(r^e>>>15,3405138345),e^=r>>>16,r^=e>>>16,(2097152*(r>>>0)+(e>>>11)).toString(36)},F=i=>i.replaceAll(/[A-Za-z]/g,e=>String.fromCodePoint((e<="Z"?90:122)>=(e=e.codePointAt(0)+19)?e:e-26)),ge=["<iy><yi>Puchspk Spjluzl Rlf</><iy><iy>","<iy><yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>."],we=["NWSc3","zvsv","wyv","ibzpulzz","vlt"],Z=Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5"].map((i,e)=>[i,Math.max(0,e-1)])),P=i=>F(ge[i]),be=i=>{let e=i[F("spjluzl")];if(!e)return-1;let r=e.split("-"),s=function(n=""){let a=-2,u=V(F(n));return u in Z&&(a=Z[u]),a}(r[0]);return s===0||(n=>n[2]===V(n[0]+n[1]))(r)||(s=-2),s},t={},X=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyPadding:null,checkOrigin:!0,direction:"vertical",inPageLinks:!1,heightCalculationMethod:"auto",id:"iFrameResizer",log:!1,license:void 0,mouseEvents:!0,offsetHeight:null,offsetWidth:null,postMessageTarget:null,sameDomain:!1,scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,waitForLoad:!1,widthCalculationMethod:"auto",onClose:()=>!0,onClosed(){},onInit:!1,onMessage:null,onMouseEnter(){},onMouseLeave(){},onReady:i=>{typeof t[i.id].onInit=="function"&&(v(i.id,`
\x1B[31;1mDeprecated Option\x1B[m

The \x1B[1monInit()\x1B[m function is deprecated and has been replaced with \x1B[1monReady()\x1B[m. It will be removed in a future version of iFrame Resizer.
      `),t[i.id].onInit(i))},onResized(){},onScroll:()=>!0}),T={position:null,version:k};function Y(i){function e(){ie(d),ee(),E("onResized",d)}function r(o){return o.boxSizing!=="border-box"?0:(o.paddingTop?parseInt(o.paddingTop,10):0)+(o.paddingBottom?parseInt(o.paddingBottom,10):0)}function s(o){return o.boxSizing!=="border-box"?0:(o.borderTopWidth?parseInt(o.borderTopWidth,10):0)+(o.borderBottomWidth?parseInt(o.borderBottomWidth,10):0)}let n=o=>M.slice(M.indexOf(":")+7+o),a=(o,f)=>(l,c)=>{let h={};var w,j;w=function(){R(`Send ${o} (${l})`,`${o}:${f()}`,c)},h[j=c]||(w(),h[j]=requestAnimationFrame(()=>{h[j]=null}))},u=(o,f)=>()=>{let l=!1,c=C=>()=>{t[I]?l&&l!==C||(o(C,I),l=C,requestAnimationFrame(()=>{l=!1})):S()},h=c("scroll"),w=c("resize window");function j(C,fe){fe(window,"scroll",h),fe(window,"resize",w)}function S(){j(0,ye),O.disconnect(),ue.disconnect()}let I=m,O=new ResizeObserver(c("page observed")),ue=new ResizeObserver(c("iframe observed"));j(0,L),O.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),ue.observe(t[I].iframe,{attributes:!0,childList:!1,subtree:!1}),t[I]&&(t[I][`stop${f}`]=S)},g=o=>()=>{o in t[m]&&(t[m][o](),delete t[m][o])},z=a("pageInfo",function(){let o=document.body.getBoundingClientRect(),f=d.iframe.getBoundingClientRect(),{scrollY:l,scrollX:c,innerHeight:h,innerWidth:w}=window,{clientHeight:j,clientWidth:S}=document.documentElement;return JSON.stringify({iframeHeight:f.height,iframeWidth:f.width,clientHeight:Math.max(j,h||0),clientWidth:Math.max(S,w||0),offsetTop:parseInt(f.top-o.top,10),offsetLeft:parseInt(f.left-o.left,10),scrollTop:l,scrollLeft:c,documentHeight:j,documentWidth:S,windowHeight:h,windowWidth:w})}),A=a("parentInfo",function(){let{iframe:o}=d,{scrollWidth:f,scrollHeight:l}=document.documentElement,{width:c,height:h,offsetLeft:w,offsetTop:j,pageLeft:S,pageTop:I,scale:O}=window.visualViewport;return JSON.stringify({iframe:o.getBoundingClientRect(),document:{scrollWidth:f,scrollHeight:l},viewport:{width:c,height:h,offsetLeft:w,offsetTop:j,pageLeft:S,pageTop:I,scale:O}})}),q=u(z,"PageInfo"),Te=u(A,"ParentInfo"),ke=g("stopPageInfo"),$e=g("stopParentInfo");function se(o){let f=o.getBoundingClientRect();return Q(),{x:Number(f.left)+Number(T.position.x),y:Number(f.top)+Number(T.position.y)}}function le(o){let f=o?se(d.iframe):{x:0,y:0},l=((h,w)=>({x:h.width+w.x,y:h.height+w.y}))(d,f),c=window.parentIframe||window.parentIFrame;c?function(h,w){h["scrollTo"+(o?"Offset":"")](w.x,w.y)}(c,l):function(h){T.position=h,ce(m)}(l)}function ce(o){let{x:f,y:l}=T.position,c=t[o]?.iframe;E("onScroll",{iframe:c,top:l,left:f,x:f,y:l})!==!1?ee():_()}function de(o){let f={};if(d.width===0&&d.height===0){let l=n(9).split(":");f={x:l[1],y:l[0]}}else f={x:d.width,y:d.height};E(o,{iframe:d.iframe,screenX:Number(f.x),screenY:Number(f.y),type:d.type})}let E=(o,f)=>B(m,o,f),M=i.data,d={},m=null;M!=="[iFrameResizerChild]Ready"?$===`${M}`.slice(0,x)&&M.slice(x).split(":")[0]in t&&(d=function(){let o=M.slice(x).split(":"),f=o[1]?Number(o[1]):0,l=t[o[0]]?.iframe,c=getComputedStyle(l);return{iframe:l,id:o[0],height:f+r(c)+s(c),width:Number(o[2]),type:o[3],msg:o[4]}}(),m=d.id,m?(function(o){if(!t[o])throw new Error(`${d.type} No settings for ${o}. Message was: ${M}`)}(m),d.type in{true:1,false:1,undefined:1}||(t[m].loaded=!0,(d.iframe!==null||(b(m,`The iframe (${d.id}) was not found.`),0))&&function(){let{origin:o,sameDomain:f}=i;if(f)return!0;let l=t[m]?.checkOrigin;if(l&&`${o}`!="null"&&!(l.constructor===Array?function(){let c=0,h=!1;for(;c<l.length;c++)if(l[c]===o){h=!0;break}return h}():function(){let c=t[m]?.remoteHost;return o===c}()))throw new Error(`Unexpected message received from: ${o} for ${d.iframe.id}. Message was: ${i.data}. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.`);return!0}()&&function(){switch(t[m]?.firstRun&&t[m]&&(t[m].firstRun=!1),d.type){case"close":K(d.iframe);break;case"message":f=n(6),E("onMessage",{iframe:d.iframe,message:JSON.parse(f)});break;case"mouseenter":de("onMouseEnter");break;case"mouseleave":de("onMouseLeave");break;case"autoResize":t[m].autoResize=JSON.parse(n(9));break;case"scrollBy":(function(){let l=d.width,c=d.height;(window.parentIframe||window).scrollBy(l,c)})();break;case"scrollTo":le(!1);break;case"scrollToOffset":le(!0);break;case"pageInfo":z("start",m),q();break;case"parentInfo":A("start",m),Te();break;case"pageInfoStop":ke();break;case"parentInfoStop":$e();break;case"inPageLink":(function(l){let c=l.split("#")[1]||"",h=decodeURIComponent(c),w=document.getElementById(h)||document.getElementsByName(h)[0];w?function(){let j=se(w);T.position={x:j.x,y:j.y},ce(m),window.location.hash=c}():window.top!==window.self&&window.parentIFrame&&window.parentIFrame.moveToAnchor(c)})(n(9));break;case"title":(function(l,c){t[c]?.syncTitle&&(t[c].iframe.title=l)})(d.msg,m);break;case"reset":te(d);break;case"init":e(),function(l){try{t[l].sameDomain=!!t[l]?.iframe?.contentWindow?.iframeChildListener}catch{t[l].sameDomain=!1}}(m),(o=d.msg)!==k&&(o!==void 0||v(m,`<rb>Legacy version detected in iframe</>

Detected legacy version of child page script. It is recommended to update the page in the iframe to use <b>@iframe-resizer/child</>.

See <u>https://iframe-resizer.com/setup/#child-page-setup</> for more details.
`)),D=!0,E("onReady",d.iframe);break;default:if(d.width===0&&d.height===0)return void b(m,`Unsupported message received (${d.type}), this is likely due to the iframe containing a later version of iframe-resizer than the parent page`);if(d.width===0||d.height===0||document.hidden)return;e()}var o,f}())):b("","iframeResizer received messageData without id, message was: ",M)):Object.keys(t).forEach(o=>{t[o].mode>=0&&R("iFrame requested init",ne(o),o)})}function B(i,e,r){let s=null,n=null;if(t[i]){if(s=t[i][e],typeof s!="function")throw new TypeError(`${e} on iFrame[${i}] is not a function`);e==="onClose"||e==="onScroll"?n=s(r):setTimeout(()=>s(r))}return n}function G(i){let{id:e}=i;delete t[e]}function K(i){let{id:e}=i;if(B(e,"onClose",e)!==!1){try{i.parentNode&&i.remove()}catch(r){b(e,r)}B(e,"onClosed",e),G(i)}}function Q(i){T.position===null&&(T.position={x:window.scrollX,y:window.scrollY})}function _(){T.position=null}function ee(i){T.position!==null&&(window.scrollTo(T.position.x,T.position.y),_())}function te(i){Q(i.id),ie(i),R("reset","reset",i.id)}function ie(i){function e(a){let u=`${i[a]}px`;i.iframe.style[a]=u}let{id:r}=i,{sizeHeight:s,sizeWidth:n}=t[r];s&&e("height"),n&&e("width")}function R(i,e,r,s){t[r]&&(t[r]?.postMessageTarget?function(){let{iframe:n,postMessageTarget:a,sameDomain:u,targetOrigin:g}=t[r];if(u)try{return void n.contentWindow.iframeChildListener($+e)}catch{}a.postMessage($+e,g)}():b(r,`[${i}] IFrame(${r}) not found`),s&&t[r]?.warningTimeout&&(t[r].msgTimeout=setTimeout(function(){if(t[r]===void 0)return;let{iframe:n,loaded:a,loadErrorShown:u,waitForLoad:g}=t[r],{sandbox:z}=n;a||u||(t[r].loadErrorShown=!0,v(r,`
<rb>No response from iFrame</>
            
The iframe (<i>${r}</>) has not responded within ${t[r].warningTimeout/1e3} seconds. Check <b>@iframe-resizer/child</> package has been loaded in the iframe.
${g?`
The <b>waitForLoad</> option is currently set to <i>'true'</>. If the iframe loads before the JavaScript runs, this option will prevent <i>iframe-resizer</> from initialising. To disable this, set the <b>waitForLoad</> option to <i>'false'</>.  
`:""}
${!(z?.length>0)||z.contains("allow-scripts")&&z.contains("allow-same-origin")?"":"The iframe has the <b>sandbox</> attribute, please ensure it contains both the <i>'allow-same-origin'</> and <i>'allow-scripts'</> values."}

This message can be ignored if everything is working, or you can set the <b>warningTimeout</> option to a higher value or zero to suppress this warning.
`))},t[r].warningTimeout)))}function ne(i){let e=t[i];return[i,"8",e.sizeWidth,e.log,"32",!0,e.autoResize,e.bodyMargin,e.heightCalculationMethod,e.bodyBackground,e.bodyPadding,e.tolerance,e.inPageLinks,"child",e.widthCalculationMethod,e.mouseEvents,e.offsetHeight,e.offsetWidth,e.sizeHeight,e.license,T.version,e.mode].join(":")}let oe=0,D=!1,re=!1,ve=i=>e=>{function r(a){if(!a)return{};if(typeof a!="object")throw new TypeError("Options is not an object");return("sizeWidth"in a||"sizeHeight"in a||"autoResize"in a)&&v(n,`<rb>Deprecated Option</>

The <b>sizeWidth</>, <b>sizeHeight</> and <b>autoResize</> options have been replaced with new <b>direction</> option which expects values of <i>"vertical"</>, <i>"horizontal"</> or <i>"horizontal"</>.
`),a}function s(a){let u=t[a]?.iframe?.title;return u===""||u===void 0}let n=function(a){if(a&&typeof a!="string")throw new TypeError("Invalid id for iFrame. Expected String");return a!==""&&a||(a=function(){let u=i?.id||X.id+oe++;return document.getElementById(u)!==null&&(u+=oe++),u}(),e.id=a,(i||{}).log),a}(e.id);return n in t&&"iFrameResizer"in e?b(n,"Ignored iFrame, already setup."):(function(a){var u,g;t[n]={iframe:e,firstRun:!0,remoteHost:e?.src.split("/").slice(0,3).join("/"),...X,...r(a),mode:be(a),syncTitle:s(n)},function(){let{direction:z}=t[n];if(z==="horizontal")return t[n].sizeWidth=!0,void(t[n].sizeHeight=!1);if(z==="none")return t[n].sizeWidth=!1,t[n].sizeHeight=!1,void(t[n].autoResize=!1);if(z!=="vertical")throw new TypeError(n,`Direction value of "${z}" is not valid`)}(),(u=a?.offsetSize||a?.offset)&&(t[n].direction==="vertical"?t[n].offsetHeight=u:t[n].offsetWidth=u),a?.offset&&v(n,`<rb>Deprecated option</>

 The <b>offset</> option has been renamed to <b>offsetSize</>. Use of the old name will be removed in a future version of <i>iframe-resizer</>.`),t[n].postMessageTarget===null&&(t[n].postMessageTarget=e.contentWindow),t[n].targetOrigin=t[n].checkOrigin===!0?(g=t[n].remoteHost)===""||g.match(/^(about:blank|javascript:|file:\/\/)/)!==null?"*":g:"*"}(i),function(){let{mode:a}=t[n];var u;a<0&&v("Parent",`${P(a+2)}${P(2)}`),re||a<0||(re=!0,u=`v${k} (${(g=>F(we[g]))(a)})`,console.info(`%c[iframe-resizer] ${u}`,"font-weight: bold;"),a<1&&v("Parent",P(3)))}(),je(),function(){switch(e.style.overflow=t[n]?.scrolling===!1?"hidden":"auto",t[n]?.scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=t[n]?t[n].scrolling:"no"}}(),function(){let{bodyMargin:a}=t[n];typeof a!="number"&&a!=="0"||(t[n].bodyMargin=`${a}px`)}(),function(a){let{id:u}=e,{mode:g,waitForLoad:z}=t[u];g!==-1&&g!==-2&&(L(e,"load",function(){R("iFrame.onload",`${a}:${D}`,u,!0),function(){let A=t[n]?.firstRun,q=t[n]?.heightCalculationMethod in N;!A&&q&&te({iframe:e,height:0,width:0,type:"init"})}()}),z===!1&&R("init",`${a}:${D}`,u,!0))}(ne(n)),function(){if(t[n]){let{iframe:a}=t[n],u={close:K.bind(null,a),disconnect:G.bind(null,a),removeListeners(){v(n,`
<rb>Deprecated Method Name</>

The \x1B[removeListeners()</> method has been renamed to \x1B[disconnect()</>.
`),this.disconnect()},resize:R.bind(null,"Window resize","resize",n),moveToAnchor(g){R("Move to anchor",`moveToAnchor:${g}`,n)},sendMessage(g){R("Send Message",`message:${g=JSON.stringify(g)}`,n)}};a.iframeResizer=u,a.iFrameResizer=u}}()),e?.iFrameResizer};function ze(){document.hidden===!1&&function(i,e){let r=s=>t[s]?.autoResize&&!t[s]?.firstRun;Object.keys(t).forEach(function(s){r(s)&&R(i,e,s)})}("Tab Visible","resize")}let je=(i=>{let e=!1;return function(){return e?void 0:(e=!0,Reflect.apply(i,this,arguments))}})(()=>{L(window,"message",Y),L(document,"visibilitychange",ze),window.iframeParentListener=i=>setTimeout(()=>Y({data:i,sameDomain:!0}))}),W="[iframeResizer] ",ae=function(){function i(s){switch(!0){case!s:throw new TypeError(`${W}iframe is not defined`);case!s.tagName:throw new TypeError(`${W}Not a valid DOM element`);case s.tagName.toUpperCase()!=="IFRAME":throw new TypeError(`${W}Expected <IFRAME> tag, found <${s.tagName}>`);default:e(s),r.push(s)}}let e,r;return function(s,n){if(typeof window>"u")return[];switch(e=ve(s),r=[],typeof n){case"undefined":case"string":document.querySelectorAll(n||"iframe").forEach(i);break;case"object":i(n);break;default:throw new TypeError(`${W}Unexpected data type (${typeof n})`)}return Object.freeze(r)}}();return typeof window<"u"&&(window.iFrameResize=window.iFrameResize||function(...i){v("","Deprecated: iFrameResize(), please use iframeResize()"),ae(...i)}),ae})});var he=Le(me(),1),H=document.currentScript;if(!H){let p=document.getElementsByTagName("script");H=p[p.length-1]}H&&Fe(H);function Fe(p){let y=new URL(p.src).origin,b=p.dataset.type||"",v=p.dataset.id||"",k=`${y}/iframe/${b}/${v}`,$=document.createElement("iframe");document.head.insertAdjacentHTML("beforeend",`<style>
      .iframe-tee {
        border: none;
        display: block;
        margin: 0 auto;
        width: 100%;
      }
    </style>`);let x={src:k,style:"border: none; width: 100%; display: block; margin: 0 auto;",allow:"fullscreen",class:"iframe-tee"};for(let N in x)$.setAttribute(N,x[N]);p.parentNode&&p.parentNode.insertBefore($,p),$.onload=()=>{console.log("iframe loaded"),(0,he.default)({license:"GPLv3",checkOrigin:!1},$)}}
/*! Bundled license information:

@iframe-resizer/parent/index.umd.js:
  (*!
   *  @preserve
   *  
   *  @module      iframe-resizer/parent 5.3.2 (umd) - 2024-10-22
   *
   *  @license     GPL-3.0 for non-commercial use only.
   *               For commercial use, you must purchase a license from
   *               https://iframe-resizer.com/pricing
   * 
   *  @description Keep same and cross domain iFrames sized to their content 
   *
   *  @author      David J. Bradshaw <info@iframe-resizer.com>
   * 
   *  @see         {@link https://iframe-resizer.com}
   * 
   *  @copyright  (c) 2013 - 2024, David J. Bradshaw. All rights reserved.
   *)
*/
