<template>
  <!-- BLOCKS HEADER -->
  <h2 class="tee-text-blue fr-mb-10v fr-mb-md-0 fr-px-10v fr-px-md-0">On vous aide Ã  atteindre vos objectifs :</h2>

  <!-- CONTENT BLOCKS -->
  <div
    v-for="c in content"
    :key="c.badge"
    class="fr-grid-row fr-grid-row-gutters fr-mb-20v fr-my-md-20v tee-home-info-block"
  >
    <div :class="`fr-col fr-col-sm-12 fr-col-md-4 fr-sm-hide ${c.imgRight ? 'fr-col-offset-1' : ''}`">
      <figure
        class="fr-content-media fr-content-media--md tee-home-img fr-my-0"
        role="group"
        aria-label="Â© Transition Ecologique des entreprises"
      >
        <div class="fr-content-media__img fr-ratio-32x9">
          <img
            class="fr-responsive-img"
            :src="c.img"
            :alt="`TEE - ${c.badge}`"
          />
        </div>
      </figure>
    </div>

    <div :class="`fr-col fr-col-12 fr-col-md-7 tee-home-info-block-figure ${c.imgRight ? 'inverted-order' : ''}`">
      <div class="figure-center">
        <figure
          class="fr-content-media fr-sm-show fr-md-hide fr-content-media--md tee-home-img fr-my-0"
          role="group"
          aria-label="Â© Transition Ecologique des entreprises"
        >
          <div class="fr-content-media__img fr-ratio-32x9">
            <img
              class="fr-responsive-img"
              :src="c.imgSolo"
              :alt="`TEE - ${c.badge}`"
            />
          </div>
        </figure>
      </div>

      <div :class="`fr-px-10v ${c.imgRight ? 'fr-pl-md-0' : ''} fr-pt-0 fr-pt-md-6v fr-pb-10v`">
        <p
          class="fr-badge fr-mb-6v fr-mt-4v fr-sm-hide"
          :style="`background-color: ${c.badgeColor}; ${c.badgeTextColor ? 'color: ' + c.badgeTextColor : ''}`"
        >
          {{ c.badge }}
        </p>
        <h1>
          {{ c.title }}
        </h1>
        <p class="fr-sm-hide">
          {{ c.text }}
        </p>
        <TeeDsfrButton
          label="Je me lance"
          aria-disabled="false"
          icon="ri-arrow-right-line"
          icon-right
          class="fr-text--bold fr-btn--tertiary-no-outline"
          @click="setObjective(c.value)"
        />
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { RouteName } from '@/types/routeType'
import { type RouteLocationAsRelativeGeneric } from 'vue-router'
import { useProgramStore } from '@/stores/program'
import { Objective } from '@tee/common'

const routeToBaseList: RouteLocationAsRelativeGeneric = {
  name: RouteName.CatalogProjects
}
const router = useRouter()

const content = [
  {
    badge: 'âš¡ï¸ Gestion Ã©nergÃ©tique',
    badgeColor: '#FACF35',
    title: ' Diminuer votre facture dâ€™Ã©lÃ©ctricitÃ©',
    img: '/images/home/electric.svg',
    imgSolo: '/images/home/electric-solo.svg',
    imgRight: false,
    value: Objective.EnergyPerformance,
    text: 'Le prix de lâ€™Ã©nergie ne cesse dâ€™augmenter. \
        Lâ€™efficacitÃ© Ã©nergÃ©tique est un axe Ã  court terme \
        vous permettant de gÃ©nÃ©rer des Ã©conomies dâ€™Ã©nergie, \
        dâ€™optimiser vos consommations Ã©nergÃ©tiques, \
        de rÃ©duire vos Ã©missions carbones et surtout dâ€™assurer \
        votre rentabilitÃ©. Des dizaines dâ€™actions rapides \
        peuvent Ãªtre mises en places dÃ¨s Ã  prÃ©sent pour \
        rÃ©duire la consommation dâ€™Ã©lectricitÃ© ou de gaz dâ€™une entreprise. '
  },
  {
    badge: 'ðŸ‘·â€â™€ï¸ BÃ¢timent durable',
    badgeColor: '#1EBE8E',
    title: 'RÃ©novez vos locaux pour rÃ©duire vos dÃ©penses',
    img: '/images/home/building.svg',
    imgSolo: '/images/home/building-solo.svg',
    imgRight: true,
    text: "Envie de locaux moins Ã©nergivores, moins coÃ»teux en chauffage, \
        en climatisation et en Ã©clairage ? Et si vous envisagiez de \
        rÃ©nover vos bÃ¢timents pour en diminuer les besoins en Ã©nergie ? \
        Les entreprises qui s'engagent dans une dÃ©marche de rÃ©novation \
        moins polluante peuvent bÃ©nÃ©ficier de financements publics.",
    value: Objective.BuildingRenovation
  },
  {
    badge: 'âš¡ï¸ MobilitÃ© durable',
    badgeColor: '#6672F8',
    badgeTextColor: 'white',
    title: 'Optez pour des modes de transport moins polluants',
    img: '/images/home/mobility.svg',
    imgSolo: '/images/home/mobility-solo.svg',
    imgRight: false,
    text: 'Lâ€™objectif est de mettre en place des solutions \
        pour favoriser le recours Ã  des modes de transport \
        alternatifs et de limiter les dÃ©placements et les \
        Ã©missions de Gaz Ã  Effet de Serre (GES). \
        Pour sâ€™inscrire pleinement dans la transition Ã©cologique, \
        il convient Ã  chaque entreprise dâ€™intÃ©grer cette \
        rÃ©flexion Ã  sa stratÃ©gie. Il existe des aides pour\
        vous accompagner dans sa construction et le financement de sa mise en place ! ',
    value: Objective.SustainableMobility
  },
  {
    badge: 'ðŸ‘·â€â™€ï¸ Gestion de lâ€™eau',
    badgeColor: '#FCA081',
    title: 'Faire des Ã©conomies sur vos consommations dâ€™eau',
    img: '/images/home/water.png',
    imgSolo: '/images/home/water-solo.svg',
    imgRight: true,
    value: Objective.WaterConsumption,
    text: 'Lâ€™eau a un coÃ»t, qui risque dâ€™augmenter dans les annÃ©es Ã  venir. \
        La rÃ©glementation peut imposer Ã  certaines activitÃ©s de mettre \
        en place une rÃ©utilisation de lâ€™eau, des circuits fermÃ©s. \
        Ã‰conomiser dÃ¨s maintenant, Ã©tudier les alternatives, câ€™est anticiper lâ€™avenir. '
  }
]
const setObjective = async (obj: Objective) => {
  await router.push(routeToBaseList)
  useProgramStore().setObjectiveTypeSelected(obj)
}
</script>
